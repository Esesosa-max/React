(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{34:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(3),i=n.n(c),o=n(27),s=n.n(o),r=(n(34),n(12)),l=n(9),u=n(5),d=n(20);d.a.initializeApp({apiKey:"AIzaSyDCaRc-0mSKVOrywGOctseGavHriPot7rE",authDomain:"node-js-f6307.firebaseapp.com",databaseURL:"https://node-js-f6307-default-rtdb.firebaseio.com",projectId:"node-js-f6307",storageBucket:"node-js-f6307.appspot.com",messagingSenderId:"1049857126020",appId:"1:1049857126020:web:97528800f4d7111deb1cd1",measurementId:"G-4D2P5TP3HS"}),d.a.analytics();var j=d.a;var b=function(e){var t=Object(c.useState)(null),n=Object(u.a)(t,2),i=n[0],o=n[1],s=Object(c.useState)(null),r=Object(u.a)(s,2),l=r[0],d=r[1],b=Object(c.useState)(null),h=Object(u.a)(b,2),O=h[0],m=h[1],f=Object(c.useState)(null),p=Object(u.a)(f,2),g=p[0],x=p[1],v=Object(c.useState)(null),y=Object(u.a)(v,2),S=y[0],w=y[1],C=j.firestore(),B=j.auth();return j.auth().onAuthStateChanged((function(e){e&&(window.location.href="/home")})),Object(a.jsxs)("div",{className:"register-div",children:[Object(a.jsx)("h3",{children:"Register"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),B.createUserWithEmailAndPassword(l,g).then((function(e){C.collection("user").doc(e.user.email).set({Username:i,Email:l,userID:e.user.uid,Bio:O,Country:S}),console.log(e.user.email),alert("Sign In SuccessFully")})).catch((function(e){alert(e.message)}))},children:[Object(a.jsx)("input",{type:"text",id:"Username",onChange:function(e){return o(e.target.value)},placeholder:"username"}),Object(a.jsx)("input",{type:"email",id:"email",onChange:function(e){return d(e.target.value)},placeholder:"email"}),Object(a.jsx)("input",{type:"password",id:"password",placeholder:"Password",onChange:function(e){return x(e.target.value)}}),Object(a.jsx)("input",{type:"text",id:"bio",onChange:function(e){return m(e.target.value)},placeholder:"Enter Your Bio"}),Object(a.jsx)("input",{type:"text",id:"country",onChange:function(e){return w(e.target.value)},placeholder:"Enter Your Country"}),Object(a.jsx)("button",{type:"submit",children:"Submit"})]})]})};var h=function(e){var t=j.firestore(),n=(j.auth(),Object(c.useState)("Loading User data")),i=Object(u.a)(n,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){var n=t.collection("user").doc(e.match.params.user_id).onSnapshot((function(e){s(e.data())}));return function(){n()}})),Object(a.jsxs)("div",{className:"Each-user",children:[Object(a.jsxs)("h4",{children:["Username :",o.Username]}),Object(a.jsxs)("p",{children:["Country : ",o.Country]}),Object(a.jsxs)("p",{children:["Email : ",o.Email]}),Object(a.jsxs)("p",{children:["Bio:",o.Bio]})]})};var O=function(e){var t={title:"Blog deleted",body:"None",ImgUrl:"abcde"},n=e.match.params.post_id,i=j.firestore(),o=Object(c.useState)([]),s=Object(u.a)(o,2),r=s[0],l=s[1];return Object(c.useEffect)((function(){i.collection("Blogs").doc(n).onSnapshot((function(e){l(e.data())}))})),Object(a.jsxs)("div",{className:"Each-user",children:[Object(a.jsx)("h4",{children:r.title}),Object(a.jsx)("img",{src:r.ImgUrl,alt:""}),"   ",Object(a.jsx)("button",{className:"red btn",onClick:function(e){j.auth().onAuthStateChanged((function(e){e?"idukpaye@gmail.com"==e.email?j.storage().ref().child("images/".concat(r.file)).delete().then((function(){l(t),i.collection("Blogs").doc(n).delete().then((function(){l(t),window.location.href="/home"}))})).catch((function(e){return console.log(e)})):alert("Sorry Only admins Can Delete Blogs"):window.location.href="/login"}))},children:"Delete"}),Object(a.jsx)("p",{children:r.body})]})};var m=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)(""),s=Object(u.a)(o,2),r=s[0],l=s[1],d=Object(c.useState)(),b=Object(u.a)(d,2),h=b[0],O=b[1],m=Object(c.useState)(""),f=Object(u.a)(m,2),p=(f[0],f[1],j.firestore());return j.auth(),j.storage(),Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.auth().onAuthStateChanged((function(e){if(e)if("idukpaye@gmail.com"==e.email){var t=j.storage().ref("images/"+h.name);t.put(h).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t)}),(function(e){alert(e.message)}),(function(){alert("File Uploaded");t.getDownloadURL().then((function(e){p.collection("Blogs").add({title:n,body:r,user:j.auth().currentUser.email,ImgUrl:e,file:h.name})}))}))}else alert("You are not authicated to upload a blog "),setTimeout((function(){alert("Contact our Admin Team")}),3e3)}))},children:[Object(a.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)},id:"Blog Title",placeholder:"Blog Title"}),Object(a.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)},placeholder:"Blog Body"}),Object(a.jsx)("input",{type:"file",onChange:function(e){return O(e.target.files[0])}}),Object(a.jsx)("button",{type:"submit",children:"Submit"})]})})};var f=function(e){var t=j.firestore(),n=Object(c.useState)([]),i=Object(u.a)(n,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){t.collection("user").onSnapshot((function(e){s(e.docs.map((function(e){return e.data()})))}))})),Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:"1"}),Object(a.jsx)("td",{children:Object(a.jsx)(r.b,{to:"/blogs/"+e.id,children:e.title})}),Object(a.jsx)("td",{children:o?o.map((function(e){return Object(a.jsx)("track",{Email:e.Email})})):Object(a.jsx)("h6",{children:"There are no Blogs to Display"})})]})};var p=function(e){var t=j.firestore(),n=Object(c.useState)([]),i=Object(u.a)(n,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){j.auth().onAuthStateChanged((function(e){e?(e.email="idukpaye@gmail.com")?alert("Welcome Admin You Have the all  the Power"):window.location.href="/home":window.location.href="/Login"})),t.collection("Blogs").onSnapshot((function(e){e.docs.map((function(t){s(e.docs)}))}))}),[o]),Object(a.jsxs)("div",{children:[Object(a.jsx)("nav",{class:"purple",children:Object(a.jsxs)("div",{class:"nav-wrapper container",children:[Object(a.jsx)(r.b,{to:"/home",class:"brand-logo yellow-text",children:"Admin"}),Object(a.jsx)("ul",{id:"nav-mobile",class:"right hide-on-med-and-down green-text"})]})}),Object(a.jsx)("div",{className:"",children:Object(a.jsx)("div",{class:"jumbotron jumbotron-fluid",children:Object(a.jsxs)("div",{class:"container",children:[Object(a.jsx)("h1",{class:"display-4",children:"File Bunker"}),Object(a.jsx)("p",{class:"lead",children:"Welcome to file Bunker Admin Panel"}),Object(a.jsxs)("table",{class:"table table-dark",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"#"}),Object(a.jsx)("th",{scope:"col",children:"Blogs"}),Object(a.jsx)("th",{scope:"col",children:"Operation"}),Object(a.jsx)("th",{scope:"col bg-primary",children:"users"})]})}),Object(a.jsx)("tbody",{children:o?o.map((function(e){return Object(a.jsx)(f,{title:e.data().title,body:e.data().body,img:e.data().ImgUrl,id:e.id,file:e.data().file},e.id)})):Object(a.jsx)(f,{title:"none",body:"none",img:"none"})})]})]})})})]})};var g=function(e){return j.firestore(),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:e.title}),Object(a.jsx)("img",{src:e.img,alt:""}),Object(a.jsx)("p",{className:"blog-body",children:Object(a.jsx)(r.b,{to:"/blogs/"+e.id,children:e.body})})]})};var x=function(e){var t=Object(c.useState)(),n=Object(u.a)(t,2),i=n[0],o=n[1];return Object(c.useEffect)((function(){"idukpaye@gmail.com"===e.user.email&&o(e.user.email)})),Object(a.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-warning",children:Object(a.jsxs)("div",{class:"container-fluid",children:[Object(a.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{class:"navbar-toggler-icon"})}),Object(a.jsx)("a",{class:"navbar-brand",href:"#",children:"Navbar"}),Object(a.jsxs)("div",{class:"collapse navbar-collapse",id:"navbarTogglerDemo03",children:[Object(a.jsxs)("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)("a",{class:"nav-link active","aria-current":"page",href:"#",children:"Home"})}),i?Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsxs)(r.b,{to:"/admin",class:"nav-link",children:["Welcome Admin : ",e.user.email]})}):Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"#",children:"You are Not An Admin Deal With It"})})]}),Object(a.jsxs)("form",{class:"d-flex",children:[Object(a.jsx)("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(a.jsx)("button",{class:"btn btn-outline-success",type:"submit",children:"Search"})]})]})]})})};var v=function(){var e=Object(c.useState)({email:"None"}),t=Object(u.a)(e,2),n=t[0],i=t[1];j.auth().onAuthStateChanged((function(e){e?i(e):window.location.href="/Login"}));var o=Object(c.useState)("hawk"),s=Object(u.a)(o,2),r=(s[0],s[1],Object(c.useState)([])),l=Object(u.a)(r,2),d=l[0],b=l[1],h=j.firestore();return Object(c.useEffect)((function(){h.collection("Blogs").onSnapshot((function(e){b(e.docs)}))})),Object(a.jsxs)("div",{children:[Object(a.jsx)(x,{user:n}),Object(a.jsxs)("div",{className:"blogs",children:[Object(a.jsx)("button",{onClick:function(e){return j.auth().signOut()},children:"Logout From you Accout"}),d.map((function(e){return Object(a.jsx)(g,{title:e.data().title,email:e.data().user,body:e.data().body,img:e.data().ImgUrl,id:e.id},e.id)}))]})]})};var y=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)(null),s=Object(u.a)(o,2),r=s[0],l=s[1];return j.auth().onAuthStateChanged((function(e){e&&(window.location.href="/home")})),Object(a.jsxs)("div",{className:"signin-div",children:[Object(a.jsx)("h3",{children:"Login to Your Account"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.auth().signInWithEmailAndPassword(n,r).then((function(e){alert("Sign in SuccessFully")})).catch((function(e){alert(e.message)}))},children:[Object(a.jsx)("input",{type:"email",id:"email",onChange:function(e){return i(e.target.value)},placeholder:"email"}),Object(a.jsx)("input",{type:"password",id:"password",placeholder:"Password",onChange:function(e){return l(e.target.value)}}),Object(a.jsx)("button",{type:"submit",children:"Submit"})]})]})};var S=function(){return Object(a.jsx)(r.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(l.a,{path:"/new",component:m}),Object(a.jsx)(l.a,{path:"/signup",component:b}),Object(a.jsx)(l.a,{path:"/Login",component:y}),Object(a.jsx)(l.a,{path:"/home",component:v}),Object(a.jsx)(l.a,{exact:!0,path:"/admin",component:p}),Object(a.jsx)(l.a,{path:"/users/:user_id",component:h}),Object(a.jsx)(l.a,{path:"/blogs/:post_id",component:O})]})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),w()}},[[42,1,2]]]);
//# sourceMappingURL=main.de484459.chunk.js.map